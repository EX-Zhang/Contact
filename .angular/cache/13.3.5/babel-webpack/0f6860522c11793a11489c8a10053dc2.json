{"ast":null,"code":"import { HttpParams, HttpHeaders } from '@angular/common/http';\nimport { LocalDataSource } from 'angular2-smart-table';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"angular2-smart-table\";\nexport let ContactComponent = /*#__PURE__*/(() => {\n  class ContactComponent {\n    constructor(http) {\n      this.http = http;\n      this.settings = [];\n      this.data = [];\n      this.source = new LocalDataSource();\n    }\n\n    ngOnInit() {\n      this.settings = {\n        delete: {\n          confirmDelete: true\n        },\n        add: {\n          confirmCreate: true\n        },\n        edit: {\n          confirmSave: true\n        },\n        columns: {\n          firstname: {\n            title: 'First Name'\n          },\n          lastname: {\n            title: 'Last Name'\n          },\n          email: {\n            title: 'Email'\n          },\n          phone: {\n            title: 'Phone No.'\n          },\n          image: {\n            title: 'Image',\n            filter: false,\n            sort: false\n          }\n        }\n      };\n      this.getContacts();\n    }\n\n    deleteContact(event) {\n      if (window.confirm('Are you sure you want to delete?')) {\n        var option = {\n          headers: new HttpHeaders({\n            'content-type': 'application/json'\n          })\n        };\n        this.http.post('/Contact/updateContact/', {\n          Function: 'Delete',\n          address_id: event.data.address_id\n        }, option).subscribe(results => {\n          this.getContacts();\n        });\n      } else {\n        event.confirm.reject();\n      }\n    }\n\n    editContact(event) {\n      if (window.confirm('Are you sure you want to save?')) {\n        var param = event.newData;\n        var option = {\n          headers: new HttpHeaders({\n            'content-type': 'application/json'\n          })\n        };\n        this.http.post('/Contact/updateContact/', {\n          'address_id': param['address_id'],\n          'firstname': param['firstname'],\n          'lastname': param['lastname'],\n          'email': param['email'],\n          'phone': param['phone'],\n          'image': param['phone']\n        }, option).subscribe(results => {\n          this.getContacts();\n        });\n      } else {\n        event.confirm.reject();\n      }\n    }\n\n    createContact(event) {\n      if (window.confirm('Are you sure you want to save?')) {\n        var param = event.newData;\n        var option = {\n          headers: new HttpHeaders({\n            'content-type': 'application/json'\n          })\n        };\n        this.http.post('/Contact/updateContact/', {\n          'firstname': param['firstname'],\n          'lastname': param['lastname'],\n          'email': param['email'],\n          'phone': param['phone'],\n          'image': param['phone']\n        }, option).subscribe(results => {\n          this.getContacts();\n        });\n      } else {\n        event.confirm.reject();\n      }\n    }\n\n    getContacts() {\n      this.data = [];\n      var params = new HttpParams().set('filter', 'all');\n      this.http.get('/Contact/getContacts', {\n        params\n      }).subscribe(results => {\n        for (let result of results) {\n          this.data.push({\n            address_id: result['id'],\n            firstname: result['firstname'],\n            lastname: result['lastname'],\n            email: result['email'],\n            phone: result['phone'],\n            image: result['image']\n          });\n        }\n\n        this.source.load(this.data);\n      });\n    }\n\n  }\n\n  ContactComponent.ɵfac = function ContactComponent_Factory(t) {\n    return new (t || ContactComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n  };\n\n  ContactComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ContactComponent,\n    selectors: [[\"app-contact\"]],\n    decls: 5,\n    vars: 2,\n    consts: [[\"id\", \"ContactDiv\", 2, \"text-align\", \"center\"], [\"id\", \"Title\"], [3, \"settings\", \"source\", \"deleteConfirm\", \"editConfirm\", \"createConfirm\"]],\n    template: function ContactComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n        i0.ɵɵtext(2, \"Address Book\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"br\");\n        i0.ɵɵelementStart(4, \"angular2-smart-table\", 2);\n        i0.ɵɵlistener(\"deleteConfirm\", function ContactComponent_Template_angular2_smart_table_deleteConfirm_4_listener($event) {\n          return ctx.deleteContact($event);\n        })(\"editConfirm\", function ContactComponent_Template_angular2_smart_table_editConfirm_4_listener($event) {\n          return ctx.editContact($event);\n        })(\"createConfirm\", function ContactComponent_Template_angular2_smart_table_createConfirm_4_listener($event) {\n          return ctx.createContact($event);\n        });\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"settings\", ctx.settings)(\"source\", ctx.source);\n      }\n    },\n    directives: [i2.Angular2SmartTableComponent],\n    styles: [\"\"]\n  });\n  return ContactComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}