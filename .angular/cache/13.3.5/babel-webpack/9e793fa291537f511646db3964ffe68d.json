{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { HttpParams, HttpHeaders } from '@angular/common/http';\nlet ContactComponent = class ContactComponent {\n  constructor(http) {\n    this.http = http;\n    this.Contacts = [];\n    this.settings = [];\n    this.data = [];\n  }\n\n  ngOnInit() {\n    this.settings = {\n      delete: {\n        confirmDelete: true\n      },\n      add: {\n        confirmCreate: true\n      },\n      edit: {\n        confirmSave: true\n      },\n      columns: {\n        firstname: {\n          title: 'First Name'\n        },\n        lastname: {\n          title: 'Last Name'\n        },\n        email: {\n          title: 'Email'\n        },\n        phone: {\n          title: 'Phone No.'\n        },\n        image: {\n          title: 'Image',\n          filter: false,\n          sort: false\n        }\n      }\n    };\n    this.getContacts();\n  }\n\n  deleteContact(event) {\n    if (window.confirm('Are you sure you want to delete?')) {\n      var option = {\n        headers: new HttpHeaders({\n          'content-type': 'application/json'\n        })\n      };\n      this.http.post('/Contact/updateContact/', {\n        Function: 'Delete',\n        address_id: event.data.address_id\n      }, option);\n      this.getContacts();\n    } else {\n      event.confirm.reject();\n    }\n  }\n\n  editContact(event) {\n    if (window.confirm('Are you sure you want to save?')) {\n      var param = event.newData;\n      var option = {\n        headers: new HttpHeaders({\n          'content-type': 'application/json'\n        })\n      };\n      this.http.post('/Contact/updateContact/', {\n        'address_id': param['address_id'],\n        'firstname': param['firstname'],\n        'lastname': param['lastname'],\n        'email': param['email'],\n        'phone': param['phone'],\n        'image': param['phone']\n      }, option).subscribe();\n      event.confirm.resolve();\n    } else {\n      event.confirm.reject();\n    }\n  }\n\n  createContact(event) {\n    if (window.confirm('Are you sure you want to save?')) {\n      var param = event.newData;\n      var option = {\n        headers: new HttpHeaders({\n          'content-type': 'application/json'\n        })\n      };\n      this.http.post('/Contact/updateContact/', {\n        'firstname': param['firstname'],\n        'lastname': param['lastname'],\n        'email': param['email'],\n        'phone': param['phone'],\n        'image': param['phone']\n      }, option).subscribe();\n      this.getContacts();\n    } else {\n      event.confirm.reject();\n    }\n  }\n\n  getContacts() {\n    var params = new HttpParams().set('filter', 'all');\n    this.http.get('/Contact/getContacts', {\n      params\n    }).subscribe(results => {\n      for (let result of results) {\n        this.data.push({\n          address_id: result['id'],\n          firstname: result['firstname'],\n          lastname: result['lastname'],\n          email: result['email'],\n          phone: result['phone'],\n          image: result['image']\n        });\n      }\n    });\n    console.log(this.data);\n  }\n\n};\nContactComponent = __decorate([Component({\n  selector: 'app-contact',\n  templateUrl: './contact.component.html',\n  styleUrls: ['./contact.component.css']\n})], ContactComponent);\nexport { ContactComponent };","map":null,"metadata":{},"sourceType":"module"}